---
# Enable nested virtualization support
# When enabled, configures KVM to allow nested virtualization (VMs inside VMs)
hypervisor_enable_nested_virtualization: false

# Enable IP forwarding for VM networking
hypervisor_enable_ip_forward: true

# Disable firewalld (hypervisor networking often requires custom firewall rules)
hypervisor_disable_firewall: true

# Disable netfilter on bridges
# When enabled, prevents iptables/firewalld from filtering bridge traffic
# This allows VMs to communicate freely even when firewalld is enabled
# Useful when you want to keep firewalld for host protection but not for VM traffic
hypervisor_disable_bridge_netfilter: false

# Libvirt packages to install
hypervisor_libvirt_packages:
  - bridge-utils
  - genisoimage
  - libvirt-client
  - libvirt-daemon-driver-qemu
  - libvirt-daemon-kvm
  - python3-libvirt
  - qemu-kvm
  - tar

# Remove libvirt default network
hypervisor_remove_default_network: true

# Foundry version to install (e.g., 'v0.5.1')
hypervisor_foundry_version: 'v0.5.1'

# Path where foundry binary will be installed
hypervisor_foundry_install_path: '/usr/local/bin/foundry'

# GitHub repository for foundry (format: owner/repo)
hypervisor_foundry_github_repo: 'jbweber/foundry'

# Architecture mapping for foundry downloads
hypervisor_foundry_arch: "{{ 'amd64' if ansible_architecture == 'x86_64' else ansible_architecture }}"
